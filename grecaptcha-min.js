"use strict";angular.module("grecaptcha",[]).provider("grecaptcha",function(){var e,t={},r=this,c="onRecaptchaScriptLoaded";this.setParameters=function(e){t=e},this.setLanguage=function(t){e=t},this._createScript=function(t){var r=t.createElement("script");r.type="text/javascript",r.async=!0,r.defer=!0,r.src="//www.google.com/recaptcha/api.js?onload="+c+"&render=explicit"+(e?"&hl="+e:"");var a=t.getElementsByTagName("body")[0];a.appendChild(r)},this.$get=["$q","$window","$document","$rootScope",function(e,a,n,i){var o=e.defer();return a[c]=function(){o.resolve()},a.grecaptcha?o.resolve():r._createScript(n[0]),{create:function(e,r){if(!t||!t.sitekey)throw new Error("Please provide your sitekey via setParameters");o.promise.then(function(){t.callback=function(e){i.$apply(function(){r.$setViewValue(e)})},a.grecaptcha.render(e,t)})},reset:function(){a.grecaptcha.reset()}}}]}).directive("grecaptcha",["grecaptcha",function(e){return{restrict:"A",require:"ngModel",scope:{ngModel:"="},link:function(t,r,c,a){e.create(r[0],a),t.$on("$destroy",e.reset)}}}]);