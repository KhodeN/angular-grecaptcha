"use strict";angular.module("grecaptcha",[]).provider("grecaptcha",function(){var e,t={},r=this,a="onRecaptchaScriptLoaded";this.setParameters=function(e){t=e},this.setLanguage=function(t){e=t},this._createScript=function(t){var r=t.createElement("script");r.type="text/javascript",r.async=!0,r.defer=!0,r.src="//www.google.com/recaptcha/api.js?onload="+a+"&render=explicit"+(e?"&hl="+e:"");var c=t.getElementsByTagName("body")[0];c.appendChild(r)},this.$get=["$q","$window","$document","$rootScope",function(e,c,n,i){var o=e.defer();return c[a]=function(){o.resolve()},c.grecaptcha?o.resolve():r._createScript(n[0]),{updateParameters:function(e){angular.extend(t,e)},create:function(e,r){function a(e){i.$apply(function(){r.$setViewValue(e)})}if(!t||!t.sitekey)throw new Error("Please provide your sitekey via setParameters");o.promise.then(function(){t.callback=a,t["expired-callback"]=a,c.grecaptcha.render(e,t)})},reset:function(){c.grecaptcha.reset()}}}]}).directive("grecaptcha",["grecaptcha",function(e){return{restrict:"A",require:"ngModel",scope:{ngModel:"="},link:function(t,r,a,c){e.create(r[0],c),t.$on("$destroy",e.reset)}}}]);